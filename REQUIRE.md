# IaC要件定義テンプレート

## 機能要件

### 1. リソース管理
**説明**: インフラリソースの作成・更新・削除をコードで管理する能力

**レベル選択**:
- **レベル1: 基本** - 単一環境での基本的なリソース管理
  - 対象: Web サーバー、データベース、ストレージの基本構成
  - 適用場面: 小規模な単一システム、プロトタイプ
- **レベル2: 標準** - 複数環境での標準的なリソース管理
  - 対象: 開発・ステージング・本番環境の分離
  - 適用場面: 一般的なWebアプリケーション
- **レベル3: 高度** - 複雑な依存関係を持つリソース管理
  - 対象: マイクロサービス、複数リージョン展開
  - 適用場面: エンタープライズ級システム

### 2. 環境管理
**説明**: 開発・テスト・本番など複数環境の構成管理

**レベル選択**:
- **レベル1: 基本** - 単一環境のみ
  - 対象: 本番環境のみの管理
  - 適用場面: 概念実証、学習目的
- **レベル2: 標準** - 開発・本番の2環境
  - 対象: 開発環境と本番環境の分離
  - 適用場面: 小〜中規模開発チーム
- **レベル3: 高度** - 開発・テスト・ステージング・本番の多段階環境
  - 対象: CI/CDパイプラインとの連携
  - 適用場面: 大規模開発チーム、継続的デプロイ

### 3. 構成の再現性
**説明**: 同じ構成を確実に再現できる仕組み

**レベル選択**:
- **レベル1: 基本** - 手動での構成再現
  - 対象: ドキュメント化された手順による再現
  - 適用場面: 変更頻度の低いシステム
- **レベル2: 標準** - 半自動化された構成再現
  - 対象: スクリプト化されたデプロイプロセス
  - 適用場面: 定期的な環境構築が必要
- **レベル3: 高度** - 完全自動化された構成再現
  - 対象: ワンクリック/ワンコマンドでの環境構築
  - 適用場面: 頻繁な環境構築、災害復旧対応

### 4. バージョン管理
**説明**: インフラ構成の変更履歴管理とロールバック機能

**レベル選択**:
- **レベル1: 基本** - ファイルベースでの履歴管理
  - 対象: Gitなどでのコードファイル管理
  - 適用場面: 小規模チーム、シンプルな構成
- **レベル2: 標準** - タグベースでの版数管理
  - 対象: リリースごとのタグ付けと管理
  - 適用場面: 定期リリースサイクルのあるシステム
- **レベル3: 高度** - ブランチ戦略との統合管理
  - 対象: feature/develop/mainブランチでの段階的管理
  - 適用場面: 複数機能を並行開発するチーム

## 非機能要件

### 1. 可読性・保守性
**説明**: コードの理解しやすさと保守の容易さ

**レベル選択**:
- **レベル1: 基本** - 基本的なコメントと命名規則
  - 対象: 変数名とリソース名の統一、最低限のコメント
  - 適用場面: 個人開発、小規模プロジェクト
- **レベル2: 標準** - 構造化されたコード構成
  - 対象: モジュール化、ディレクトリ構成の標準化
  - 適用場面: チーム開発、中規模プロジェクト
- **レベル3: 高度** - ドキュメント自動生成対応
  - 対象: コードからのドキュメント生成、アーキテクチャ図の自動化
  - 適用場面: 大規模プロジェクト、コンプライアンス要件

### 2. セキュリティ
**説明**: インフラレベルでのセキュリティ確保

**レベル選択**:
- **レベル1: 基本** - 基本的なアクセス制御
  - 対象: 最小権限の原則、基本的な認証設定
  - 適用場面: 内部システム、開発環境
- **レベル2: 標準** - 暗号化とネットワークセキュリティ
  - 対象: データ暗号化、VPC/セキュリティグループ設定
  - 適用場面: 本番環境、顧客データを扱うシステム
- **レベル3: 高度** - セキュリティ監査とコンプライアンス対応
  - 対象: ログ監査、脆弱性スキャン、規制要件対応
  - 適用場面: 金融・医療等の規制業界、エンタープライズ

### 3. 可用性・信頼性
**説明**: システムの継続的な稼働と障害対応能力

**レベル選択**:
- **レベル1: 基本** - 単一障害点の最小化
  - 対象: 基本的な冗長化構成
  - 適用場面: 小規模システム、ダウンタイム許容度の高いシステム
- **レベル2: 標準** - 自動復旧機能付き冗長化
  - 対象: ヘルスチェック、オートスケーリング
  - 適用場面: 一般的なWebサービス
- **レベル3: 高度** - 多リージョン対応と災害復旧
  - 対象: クロスリージョン冗長化、自動フェイルオーバー
  - 適用場面: ミッションクリティカルなシステム

### 4. 性能・スケーラビリティ
**説明**: 負荷変動への対応とリソース最適化

**レベル選択**:
- **レベル1: 基本** - 固定リソース構成
  - 対象: 予測可能な負荷に対する固定サイズ構成
  - 適用場面: 負荷変動の少ないシステム
- **レベル2: 標準** - 基本的なオートスケーリング
  - 対象: CPU/メモリ使用率に基づく自動スケール
  - 適用場面: 日次・週次で負荷変動があるシステム
- **レベル3: 高度** - 予測的スケーリングと最適化
  - 対象: 機械学習による負荷予測、コスト最適化
  - 適用場面: 大規模サービス、コスト効率を重視するシステム

### 5. 運用・監視
**説明**: システム稼働状況の可視化と運用効率化

**レベル選択**:
- **レベル1: 基本** - 基本的なログ出力
  - 対象: アプリケーションログ、エラーログの収集
  - 適用場面: 開発・テスト環境、小規模システム
- **レベル2: 標準** - メトリクス監視とアラート
  - 対象: CPU・メモリ・ディスク使用率監視、しきい値アラート
  - 適用場面: 本番稼働システム、定期的な運用チェック
- **レベル3: 高度** - 統合監視とAIOps
  - 対象: 分散トレーシング、異常検知、自動対応
  - 適用場面: マイクロサービス、24時間稼働システム

## 要件選択時の考慮事項

### チーム規模による推奨レベル
- **1-3人**: レベル1-2を中心に選択
- **4-10人**: レベル2-3を中心に選択
- **11人以上**: レベル3を積極的に検討

### システム規模による推奨レベル
- **小規模**: 機能要件レベル1-2, 非機能要件レベル1-2
- **中規模**: 機能要件レベル2-3, 非機能要件レベル2-3
- **大規模**: 機能要件レベル3, 非機能要件レベル3

### 業界・用途による推奨レベル
- **プロトタイプ・学習**: 全般的にレベル1
- **一般的なWebサービス**: 機能要件レベル2, 非機能要件レベル2
- **エンタープライズ**: 全般的にレベル3
- **規制業界**: セキュリティ・可用性はレベル3必須